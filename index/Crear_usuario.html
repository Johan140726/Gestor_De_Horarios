<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Registrar Usuario</title>
</head>
<body>

<h2>Registrar Usuario</h2>

<input id="nombre" placeholder="Nombre"><br><br>
<input id="cargo" placeholder="Cargo"><br><br>
<input id="correo" placeholder="Correo"><br><br>
<input id="contrase単a" placeholder="Contrase単a" type="password"><br><br>

<button onclick="registrar()">Registrar</button>

<p id="mensaje"></p>

<script>
async function registrar() {
    const usuario = {
        nombre: document.getElementById("nombre").value,
        cargo: document.getElementById("cargo").value,
        correo: document.getElementById("correo").value,
        contrase単a: document.getElementById("contrase単a").value
    };

    try {
        const respuesta = await fetch("http://localhost:3000/usuarios", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(usuario)
        });

        if (!respuesta.ok) {
            const error = await respuesta.json();
            throw new Error(error.error);
        }

        const data = await respuesta.json();
        document.getElementById("mensaje").innerText = data.mensaje;

    } catch (err) {
        document.getElementById("mensaje").innerText = "Error: " + err.message;
    }
}
</script>

</body>
</html>
